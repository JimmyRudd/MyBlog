---
layout: default
title: Android开发中的异常及解决方法 
---  
####TopLevelException  
**原因：**  
资源冲突，可能引用的库之中有相同的资源  
**解决：**   
1. 先重新载入资源，删除bin和gen试试  
2.用解压工具打开jar包，删除对应的重复资源  
***
  
  

####UNEXPECTED TOP-LEVEL EXCEPTION:
 
>java.lang.IllegalArgumentException: already added:XXXX/$R  

**原因：**  
本身是重复引入的问题，在这里是R文件重复，可能是Android项目到处jar包时连gen目录也到处了  
**解决：**   
1. 如果时用eclipse直接导出的jar，修改项目属性的Order and Export，不要选gen目录
***
  
  

####Multiple dex files
**原因：**  
一般都是有两个包名相同的同名文件导致（如引用了不同版本的同一个jar包等  
**解决：**   
1. 删掉重复的，只留下其中一个
***
  
  

####bad class file magic (cafebabe) or version (0033.0000)
**原因：**  
一般都是使用jdk1.6来编译、打包，但项目又引用了jdk1.7编译的jar包  
**解决：**   
1. 重新使用jdk1.6编译jar  
2.部分jar可能是合并其他第三方jar包，有时候会出现用jdk1.6生成的jar包，引入到项目  
中，eclipse可以编译通过，但脚本用DX打包时出错，此时可能只有部分.class出问题  
eg. 

	bad class file magic (cafebabe) or version (0033.0000)  
	...while parsing com/unionpay/uppay/PayActivity.class  
	...while processing com/unionpay/uppay/PayActivity.class  
可以用jd-gui打开jar，找到对应文件，新建相同内容的java，使用jdk1.6编译成.class然后>替换原来jar包中的.class文件  
***



<p>{{ page.date | date_to_string }}</p>
